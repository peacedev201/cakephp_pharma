!function(l,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(l){"use strict";var e={data:{index:0,name:"scrollbar"},firefox:/firefox/i.test(navigator.userAgent),macosx:/mac/i.test(navigator.platform),msedge:/edge\/\d+/i.test(navigator.userAgent),msie:/(msie|trident)/i.test(navigator.userAgent),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};e.scrolls.add=function(l){this.remove(l).push(l)},e.scrolls.remove=function(e){for(;l.inArray(e,this)>=0;)this.splice(l.inArray(e,this),1);return this};var s={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,isRtl:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onFallback:null,onInit:null,onScroll:null,onUpdate:null},o=function(o){var r;e.scroll||(e.overlay=!((r=a(!0)).height||r.width),e.scroll=a(),n(),l(window).resize(function(){var l=!1;if(e.scroll&&(e.scroll.height||e.scroll.width)){var s=a();s.height===e.scroll.height&&s.width===e.scroll.width||(e.scroll=s,l=!0)}n(l)})),this.container=o,this.namespace=".scrollbar_"+e.data.index++,this.options=l.extend({},s,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},o.data(e.data.name,this),e.scrolls.add(this)};o.prototype={destroy:function(){if(this.wrapper){this.container.removeData(e.data.name),e.scrolls.remove(this);var s=this.container.scrollLeft(),o=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(s).scrollTop(o),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").addBack().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").addBack().off(this.namespace),this.wrapper.remove(),l(document).add("body").off(this.namespace),l.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(s){var o=this,r=this.container,t=this.containerWrapper||r,i=this.namespace,n=l.extend(this.options,s||{}),a={x:this.scrollx,y:this.scrolly},d=this.wrapper,h={},u={scrollLeft:r.scrollLeft(),scrollTop:r.scrollTop()};if(e.mobile&&n.ignoreMobile||e.overlay&&n.ignoreOverlay||e.macosx&&!e.webkit)return l.isFunction(n.onFallback)&&n.onFallback.apply(this,[r]),!1;if(d)(h={height:"auto","margin-bottom":-1*e.scroll.height+"px","max-height":""})[n.isRtl?"margin-left":"margin-right"]=-1*e.scroll.width+"px",t.css(h);else{if(this.wrapper=d=l("<div>").addClass("scroll-wrapper").addClass(r.attr("class")).css("position","absolute"===r.css("position")?"absolute":"relative").insertBefore(r).append(r),n.isRtl&&d.addClass("scroll--rtl"),r.is("textarea")&&(this.containerWrapper=t=l("<div>").insertBefore(r).append(r),d.addClass("scroll-textarea")),(h={height:"auto","margin-bottom":-1*e.scroll.height+"px","max-height":""})[n.isRtl?"margin-left":"margin-right"]=-1*e.scroll.width+"px",t.addClass("scroll-content").css(h),r.on("scroll"+i,function(s){var t=r.scrollLeft(),i=r.scrollTop();if(n.isRtl)switch(!0){case e.firefox:t=Math.abs(t);case e.msedge||e.msie:t=r[0].scrollWidth-r[0].clientWidth-t}l.isFunction(n.onScroll)&&n.onScroll.call(o,{maxScroll:a.y.maxScrollOffset,scroll:i,size:a.y.size,visible:a.y.visible},{maxScroll:a.x.maxScrollOffset,scroll:t,size:a.x.size,visible:a.x.visible}),a.x.isVisible&&a.x.scroll.bar.css("left",t*a.x.kx+"px"),a.y.isVisible&&a.y.scroll.bar.css("top",i*a.y.kx+"px")}),d.on("scroll"+i,function(){d.scrollTop(0).scrollLeft(0)}),n.disableBodyScroll){var p=function(l){c(l)?a.y.isVisible&&a.y.mousewheel(l):a.x.isVisible&&a.x.mousewheel(l)};d.on("MozMousePixelScroll"+i,p),d.on("mousewheel"+i,p),e.mobile&&d.on("touchstart"+i,function(e){var s=e.originalEvent.touches&&e.originalEvent.touches[0]||e,o=s.pageX,t=s.pageY,n=r.scrollLeft(),a=r.scrollTop();l(document).on("touchmove"+i,function(l){var e=l.originalEvent.targetTouches&&l.originalEvent.targetTouches[0]||l;r.scrollLeft(n+o-e.pageX),r.scrollTop(a+t-e.pageY),l.preventDefault()}),l(document).on("touchend"+i,function(){l(document).off(i)})})}l.isFunction(n.onInit)&&n.onInit.apply(this,[r])}l.each(a,function(s,t){var d=null,h=1,u="x"===s?"scrollLeft":"scrollTop",p=n.scrollStep,f=function(){var l=r[u]();r[u](l+p),1==h&&l+p>=v&&(l=r[u]()),-1==h&&l+p<=v&&(l=r[u]()),r[u]()==l&&d&&d()},v=0;t.scroll||(t.scroll=o._getScroll(n["scroll"+s]).addClass("scroll-"+s),n.showArrows&&t.scroll.addClass("scroll-element_arrows_visible"),t.mousewheel=function(l){if(!t.isVisible||"x"===s&&c(l))return!0;if("y"===s&&!c(l))return a.x.mousewheel(l),!0;var e=-1*l.originalEvent.wheelDelta||l.originalEvent.detail,i=t.size-t.visible-t.offset;return e||("x"===s&&l.originalEvent.deltaX?e=40*l.originalEvent.deltaX:"y"===s&&l.originalEvent.deltaY&&(e=40*l.originalEvent.deltaY)),(e>0&&v<i||e<0&&v>0)&&((v+=e)<0&&(v=0),v>i&&(v=i),o.scrollTo=o.scrollTo||{},o.scrollTo[u]=v,setTimeout(function(){o.scrollTo&&(r.stop().animate(o.scrollTo,240,"linear",function(){v=r[u]()}),o.scrollTo=null)},1)),l.preventDefault(),!1},t.scroll.on("MozMousePixelScroll"+i,t.mousewheel).on("mousewheel"+i,t.mousewheel).on("mouseenter"+i,function(){v=r[u]()}),t.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+i,function(i){if(1!=i.which)return!0;h=1;var a={eventOffset:i["x"===s?"pageX":"pageY"],maxScrollValue:t.size-t.visible-t.offset,scrollbarOffset:t.scroll.bar.offset()["x"===s?"left":"top"],scrollbarSize:t.scroll.bar["x"===s?"outerWidth":"outerHeight"]()},c=0,m=0;if(l(this).hasClass("scroll-arrow")){if(h=l(this).hasClass("scroll-arrow_more")?1:-1,p=n.scrollStep*h,v=h>0?a.maxScrollValue:0,n.isRtl)switch(!0){case e.firefox:v=h>0?0:-1*a.maxScrollValue;break;case e.msie||e.msedge:}}else h=a.eventOffset>a.scrollbarOffset+a.scrollbarSize?1:a.eventOffset<a.scrollbarOffset?-1:0,"x"===s&&n.isRtl&&(e.msie||e.msedge)&&(h*=-1),p=Math.round(.75*t.visible)*h,v=a.eventOffset-a.scrollbarOffset-(n.stepScrolling?1==h?a.scrollbarSize:0:Math.round(a.scrollbarSize/2)),v=r[u]()+v/t.kx;return o.scrollTo=o.scrollTo||{},o.scrollTo[u]=n.stepScrolling?r[u]()+p:v,n.stepScrolling&&(d=function(){v=r[u](),clearInterval(m),clearTimeout(c),c=0,m=0},c=setTimeout(function(){m=setInterval(f,40)},n.duration+100)),setTimeout(function(){o.scrollTo&&(r.animate(o.scrollTo,n.duration),o.scrollTo=null)},1),o._handleMouseDown(d,i)}),t.scroll.bar.on("mousedown"+i,function(a){if(1!=a.which)return!0;var c=a["x"===s?"pageX":"pageY"],d=r[u]();return t.scroll.addClass("scroll-draggable"),l(document).on("mousemove"+i,function(l){var o=parseInt((l["x"===s?"pageX":"pageY"]-c)/t.kx,10);"x"===s&&n.isRtl&&(e.msie||e.msedge)&&(o*=-1),r[u](d+o)}),o._handleMouseDown(function(){t.scroll.removeClass("scroll-draggable"),v=r[u]()},a)}))}),l.each(a,function(l,e){var s="scroll-scroll"+l+"_visible",o="x"==l?a.y:a.x;e.scroll.removeClass(s),o.scroll.removeClass(s),t.removeClass(s)}),l.each(a,function(e,s){l.extend(s,"x"==e?{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:d.width()}:{offset:parseInt(r.css("top"),10)||0,size:r.prop("scrollHeight"),visible:d.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),l.isFunction(n.onUpdate)&&n.onUpdate.apply(this,[r]),l.each(a,function(l,e){var s="x"===l?"left":"top",o="x"===l?"outerWidth":"outerHeight",t="x"===l?"width":"height",i=parseInt(r.css(s),10)||0,a=e.size,c=e.visible+i,d=e.scroll.size[o]()+(parseInt(e.scroll.size.css(s),10)||0);n.autoScrollSize&&(e.scrollbarSize=parseInt(d*c/a,10),e.scroll.bar.css(t,e.scrollbarSize+"px")),e.scrollbarSize=e.scroll.bar[o](),e.kx=(d-e.scrollbarSize)/(a-c)||1,e.maxScrollOffset=a-c}),r.scrollLeft(u.scrollLeft).scrollTop(u.scrollTop).trigger("scroll")},_getScroll:function(e){var s={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return s[e]&&(e=s[e]),e||(e=s.simple),e="string"==typeof e?l(e).appendTo(this.wrapper):l(e),l.extend(e,{bar:e.find(".scroll-bar"),size:e.find(".scroll-element_size"),track:e.find(".scroll-element_track")}),e},_handleMouseDown:function(e,s){var o=this.namespace;return l(document).on("blur"+o,function(){l(document).add("body").off(o),e&&e()}),l(document).on("dragstart"+o,function(l){return l.preventDefault(),!1}),l(document).on("mouseup"+o,function(){l(document).add("body").off(o),e&&e()}),l("body").on("selectstart"+o,function(l){return l.preventDefault(),!1}),s&&s.preventDefault(),!1},_updateScroll:function(s,o){var r=this.container,t=this.containerWrapper||r,i="scroll-scroll"+s+"_visible",n="x"===s?this.scrolly:this.scrollx,a=parseInt(this.container.css("x"===s?"left":"top"),10)||0,c=this.wrapper,d=o.size,h=o.visible+a;o.isVisible=d-h>1,o.isVisible?(o.scroll.addClass(i),n.scroll.addClass(i),t.addClass(i)):(o.scroll.removeClass(i),n.scroll.removeClass(i),t.removeClass(i)),"y"===s&&(r.is("textarea")||d<h?t.css({height:h+e.scroll.height+"px","max-height":"none"}):t.css({"max-height":h+e.scroll.height+"px"})),o.size==r.prop("scrollWidth")&&n.size==r.prop("scrollHeight")&&o.visible==c.width()&&n.visible==c.height()&&o.offset==(parseInt(r.css("left"),10)||0)&&n.offset==(parseInt(r.css("top"),10)||0)||(l.extend(this.scrollx,{offset:parseInt(r.css("left"),10)||0,size:r.prop("scrollWidth"),visible:c.width()}),l.extend(this.scrolly,{offset:parseInt(r.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===s?"y":"x",n))}};var r=o;l.fn.scrollbar=function(s,o){return"string"!=typeof s&&(o=s,s="init"),void 0===o&&(o=[]),l.isArray(o)||(o=[o]),this.not("body, .scroll-wrapper").each(function(){var t=l(this),i=t.data(e.data.name);(i||"init"===s)&&(i||(i=new r(t)),i[s]&&i[s].apply(i,o))}),this},l.fn.scrollbar.options=s;var t,i,n=(t=0,function(l){var s,o,r,i,a,c,d;for(s=0;s<e.scrolls.length;s++)o=(i=e.scrolls[s]).container,r=i.options,a=i.wrapper,c=i.scrollx,d=i.scrolly,(l||r.autoUpdate&&a&&a.is(":visible")&&(o.prop("scrollWidth")!=c.size||o.prop("scrollHeight")!=d.size||a.width()!=c.visible||a.height()!=d.visible))&&(i.init(),r.debug&&window.console&&console.log({scrollHeight:o.prop("scrollHeight")+":"+i.scrolly.size,scrollWidth:o.prop("scrollWidth")+":"+i.scrollx.size,visibleHeight:a.height()+":"+i.scrolly.visible,visibleWidth:a.width()+":"+i.scrollx.visible},!0));clearTimeout(t),t=setTimeout(n,300)});function a(s){if(e.webkit&&!s)return{height:0,width:0};if(!e.data.outer){var o={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};e.data.inner=l("<div>").css(l.extend({},o)),e.data.outer=l("<div>").css(l.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},o)).append(e.data.inner).appendTo("body")}return e.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(e.data.outer.offset().top-e.data.inner.offset().top||0),width:Math.ceil(e.data.outer.offset().left-e.data.inner.offset().left||0)}}function c(l){var e=l.originalEvent;return(!e.axis||e.axis!==e.HORIZONTAL_AXIS)&&!e.wheelDeltaX}window.angular&&(i=window.angular).module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var l=s;return{setOptions:function(e){i.extend(l,e)},$get:function(){return{options:i.copy(l)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(l,e){return{restrict:"AC",link:function(s,o,r){var t=e(r.jqueryScrollbar)(s);o.scrollbar(t||l.options).on("$destroy",function(){o.scrollbar("destroy")})}}}])});